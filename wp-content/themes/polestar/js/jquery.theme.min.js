jQuery(function(t){function e(){var t=jQuery(window).scrollTop(),e="no";jQuery(".panel-row-style").each(function(){var i="#"+jQuery(this).attr("id"),o=jQuery(this).offset().top-2,n=jQuery(this).outerHeight(),a=o-w,s=o+n-w;return t>=a&&t<=s?(e="yes",jQuery("#site-navigation .current").removeClass("current"),jQuery('#site-navigation a[href$="'+i+'"]').parent("li").addClass("current"),!1):void("no"===e&&jQuery("#site-navigation .current").removeClass("current"))})}t.fn.polestarIsVisible=function(){var t=this[0].getBoundingClientRect();return t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)},t(window).load(function(){t(".entry-thumbnail").each(function(){img=t(this).find("img"),img_width=img.width(),img_height=img.height(),t(this).css({maxWidth:img_width,maxHeight:img_height})})}),"undefined"!=typeof t.fn.fitVids&&t(".entry-content, .entry-content .panel, .woocommerce #main").fitVids({ignore:".tableauViz"}),t(window).on("load",function(){t(".flexslider").each(function(){t(this).flexslider({animation:"slide",controlNav:!1,customDirectionNav:t(this).find(".flex-direction-nav a"),start:function(){t(".flexslider .slides img").show()}})})});var i=function(){var e=window.pageYOffset||document.documentElement.scrollTop;e>t("#masthead").outerHeight()?t("#scroll-to-top").hasClass("show")||t("#scroll-to-top").css("pointer-events","auto").addClass("show"):t("#scroll-to-top").hasClass("show")&&t("#scroll-to-top").css("pointer-events","none").removeClass("show")};if(i(),t(window).scroll(i),t("#scroll-to-top").click(function(){t("html, body").animate({scrollTop:0})}),t("#masthead").hasClass("sticky")){var o=!1,n=t("#page").offset().top,a=t("#masthead"),s=t("#topbar"),r=t('#topbar .woocommerce-store-notice[style*="display: none"]'),l=function(){t("body").hasClass("mobile-header-ns")&&t(window).width()<polestar_resp_menu_params.collapse||(o===!1&&(o=t('<div class="masthead-sentinel"></div>').insertAfter(a),o.css("height",a.outerHeight())),t("body").hasClass("no-topbar")||s.polestarIsVisible()||t("body").addClass("topbar-out"),s.length&&t("body").hasClass("topbar-out")&&s.polestarIsVisible()&&t("body").removeClass("topbar-out"),t("body").hasClass("no-topbar")&&!t(window).scrollTop()&&t("body").addClass("topbar-out"),t("body").hasClass("no-topbar")||!t("body").hasClass("no-topbar")&&t("body").hasClass("topbar-out")||r.length?a.css("position","fixed"):t("body").hasClass("no-topbar")||t("body").hasClass("topbar-out")||a.css("position","absolute"))};l(),t(window).resize(l).scroll(l);var d=function(){t(window).scrollTop()>0?t(a).addClass("stuck"):t(a).removeClass("stuck")};d(),t(window).scroll(d);var c={top:parseInt(a.css("padding-top")),bottom:parseInt(a.css("padding-bottom"))};if(a.data("scale-logo")){var h=function(){var t=window.pageYOffset||document.documentElement.scrollTop;t-=n;var e=a.find(".site-branding img"),i=a.find(".site-branding > *");e.removeAttr("style");var o=e.width(),s=e.height();if(t>0){var r=.775+Math.max(0,48-t)/48*(1-.775);e.length?e.css({width:o*r,height:s*r,"max-width":"none"}):i.css("transform","scale("+r+")"),a.css({"padding-top":c.top*r,"padding-bottom":c.bottom*r}).addClass("stuck")}else e.length||i.css("transform","scale(1)"),a.css({"padding-top":c.top,"padding-bottom":c.bottom}).removeClass("stuck")};h(),t(window).scroll(h).resize(h)}}var u=t("#header-search");if(t("#masthead .search-icon").click(function(){u.fadeIn("fast"),u.find("form").css("margin-top",-u.find("form").innerHeight()/2),u.find('input[type="search"]').focus().select(),u.find("#close-search").addClass("animate-in")}),u.find("#close-search").click(function(){u.fadeOut(350),t(this).removeClass("animate-in")}),t(window).scroll(function(){u.is(":visible")&&u.find("form").css("margin-top",-u.find("form").outerHeight()/2)}),t(document).keyup(function(e){27==e.keyCode&&t("#close-search.animate-in").trigger("click")}),t("body.no-js").removeClass("no-js"),t("body").hasClass("css3-animations")){var m=function(){t(".main-navigation ul ul").each(function(){var e=t(this),i=Math.max.apply(Math,e.find("> li:not(.mini_cart_item) > a").map(function(){return t(this).width()}).get());e.find("> li > a").width(i)})};m(),t(window).resize(m),t(".menu-item").children("a").focus(function(){t(this).parents("ul, li").addClass("focus")}),t(".menu-item").children("a").click(function(){t(this).parents("ul, li").removeClass("focus")}),t(".menu-item").children("a").focusout(function(){t(this).parents("ul, li").removeClass("focus")})}jQuery(document).ready(function(t){window.location.hash||(t('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),t(window).scroll(function(){t("#site-navigation ul li").hasClass("current")&&t("#site-navigation li").removeClass("current-menu-item")}))});var f=t("#wpadminbar").outerHeight(),p=t("body").hasClass("admin-bar"),g=t("header").hasClass("sticky");if(g&&p&&jQuery(window).width()>600)var w=f+t("header").outerHeight()-2;else if(g)var w=t("header").outerHeight()-2;else var w=0;t.fn.polestarSmoothScroll=function(){t(this).click(function(t){var e=this.hash,i=e.substring(1),o=this;if(jQuery(".panel-grid [id*="+i+"]").length>0?(jQuery("#site-navigation .current").removeClass("current"),jQuery(o).parent("li").addClass("current")):jQuery("#site-navigation .current").removeClass("current"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=jQuery(this.hash);if(n=n.length?n:jQuery("[name="+this.hash.slice(1)+"]"),n.length)return jQuery("html, body").animate({scrollTop:n.offset().top-w},1200),!1}})},jQuery(window).load(function(){t('#site-navigation a[href*="#"]:not([href="#"]), .comments-link a[href*="#"]:not([href="#"]), .puro-scroll[href*="#"]:not([href="#"])').polestarSmoothScroll()}),jQuery(window).load(function(){if(location.pathname.replace(/^\//,"")==window.location.pathname.replace(/^\//,"")&&location.hostname==window.location.hostname){var t=jQuery(window.location.hash);if(t.length)return jQuery("html, body").animate({scrollTop:t.offset().top-w},0),!1}}),jQuery(window).on("scroll",e);var v=!1;t("#mobile-menu-button").click(function(e){e.preventDefault();var i=t(this);if(i.toggleClass("to-close"),v===!1){v=t("<div></div>").append(t(".main-navigation ul").first().clone()).attr("id","mobile-navigation").appendTo("#masthead").hide(),t("#header-search form").length&&v.append(t("#header-search form").clone()),t(".main-navigation .shopping-cart").length&&v.append(t(".main-navigation .shopping-cart .shopping-cart-link").clone()),v.find("#primary-menu").show().css("opacity",1),v.find(".menu-item-has-children > a").addClass("has-dropdown"),v.find(".menu-item-has-children > a, .page_item_has_children > a").after('<button class="dropdown-toggle" aria-expanded="false"><i class="icon-chevron-down" aria-hidden="true"></i></button>'),v.find(".dropdown-toggle").click(function(e){e.preventDefault(),t(this).toggleClass("toggle-open").next(".children, .sub-menu").slideToggle("fast")}),v.find(".has-dropdown").click(function(e){"undefined"==typeof t(this).attr("href")&&(e.preventDefault(),t(this).siblings(".dropdown-toggle").trigger("click"))});var o=function(){if(t("#masthead").hasClass("sticky")){var e="fixed"===t("#wpadminbar").css("position")?t("#wpadminbar").outerHeight():0,i=t("#masthead").innerHeight(),o=t(window).height()-i-e;t("#mobile-navigation").css("max-height",o)}};o(),t(window).resize(o),t("#mobile-navigation").scroll(o)}v.slideToggle("fast"),t("#mobile-navigation a").click(function(e){(!t(this).hasClass("has-dropdown")||"undefined"!=typeof t(this).attr("href")&&"#"!==t(this).attr("href"))&&v.is(" :visible")&&v.slideUp("fast"),i.removeClass("to-close")}),t('#mobile-navigation a[href*="#"]:not([href="#"])').polestarSmoothScroll()})});