jQuery(function(t){t(".woocommerce-ordering select").each(function(){var e=t(this),o=t("<div></div>").html('<span class="current">'+e.find(":selected").html()+"</span>"+polestar_data.chevron_down).addClass("ordering-selector-wrapper").insertAfter(e),n=t("<div/>").addClass("ordering-dropdown-container").appendTo(o),d=t("<ul></ul>").addClass("ordering-dropdown").appendTo(n),i=0;e.find("option").each(function(){var n=t(this);d.append(t("<li></li>").html(n.html()).data("val",n.attr("value")).click(function(){e.val(t(this).data("val")),e.closest("form").submit()})),i=Math.max(o.find(".current").html(n.html()).width(),i)}),o.find(".current").html(e.find(":selected").html()).width(i),e.hide()}),t(".ordering-selector-wrapper").click(function(){t(this).toggleClass("open-dropdown")}),t(window).click(function(e){t(e.target).closest(".ordering-selector-wrapper.open-dropdown").length||t(".ordering-selector-wrapper.open-dropdown").removeClass("open-dropdown")}),t(".product-quick-view-button").click(function(e){e.preventDefault();var o="#quick-view-container",n="#product-quick-view",d=t(this).attr("data-product-id");t.post(polestar_data.ajaxurl,{action:"polestar_product_quick_view",product_id:d},function(e){t(document).find(o).find(n).html(e)}),t(document).find(o).is(":hidden")&&t(document).find(o).find(n).empty(),t(document).find(o).fadeIn(300),t("body").css("margin-right",window.innerWidth-t("body").width()+"px"),t("body").css("overflow","hidden"),t(window).mouseup(function(e){var d=t(n);(!d.is(e.target)&&0===d.has(e.target).length||t(".quickview-close-icon").is(e.target))&&(t(o).fadeOut(300),t("body").css("overflow",""),t("body").css("margin-right",""))}),t(document).keyup(function(e){t(n);27==e.keyCode&&(t(o).fadeOut(300),t("body").css("overflow",""),t("body").css("margin-right",""))})})});